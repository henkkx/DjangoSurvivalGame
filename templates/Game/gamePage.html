{% extends 'Game/base.html' %}
{% load staticfiles %}

{% block head_css %}
{% endblock %}

{% block content %}
{% csrf_token %}
<script type="text/javascript">
        function test_fun(inp) {
            var word = "";
            for (i in inp){
                if (inp[i] != ","){
                    word = word + inp[i];
                }else {
                    alert("else")
                    $('#buttons').append('<button onclick="other_fun">' + word + '</button>');
                    word = "";
                }

            }
            $('#buttons').append('<button onclick="other_fun">' + word + '</button>');
        }
</script>
<script type="text/javascript">
        function post_fun(inp) {
            alert('WILL BE EXECUTED')
            var xhr = new XMLHttpRequest();
            xhr.open("POST", '/post_data', true);
            var cmd= "This is my text, my text is amazing";
            xhr.send(cmd);
            alert("SOMETHING")
            $.ajax({
                    type: 'GET',
                    url: "/test2",
                    dataType: "json",
                    success: function (data) {
                        alert("AIGHT")
                        for(var i in data){
                                $('#buttons').append('<button onClick="test_fun(data[i])" data-role="button"' +
                                    ' type="button" id="testID"">' + '' + i + '</button>');
                            }
                        }
                    });
        }
</script>
<!--<script type="text/javascript">-->
    <!--$(document).ready(function (dat) {-->
        <!--$("some selector").click({data: "Hello", param2: "World"}, cool_function);-->
    <!--});-->

<!--</script>-->
<script type="text/javascript">
    alert("ok")
            $(document).ready(function () {
                alert("test1")

                // $("button").click(function () {
                //     $.getJSON("/test2", function (data) {
                //         $.each(data, function (i, e) {
                //             var el = '<p class="low-level">'+this+'</p>';
                //             $('#buttons').append('<button onClick="test_fun(\'' + el + '\')" data-role="button"' +
                //                 ' type="button" id="testID"">' + '' + i + '</button>');
                //         })
                //     })
                    $.ajax({
                        type: 'GET',
                        url: "/test2",
                        dataType: "json",
                        success: function (data) {
                            for(var i in data){
                                    $('#buttons').append('<button onClick="test_fun(data[i])" data-role="button"' +
                                        ' type="button" id="testID"">' + '' + i + '</button>');
                                }
                            }
                        });
                    });
</script>
<div id="buttons">
<button onClick="post_fun('text to post')">Click here for magic</button>

</div>

{% endblock %}