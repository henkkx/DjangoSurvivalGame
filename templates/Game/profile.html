{% extends 'Game/base.html' %}
{% block head_css %}
<link rel="stylesheet"  type="text/css" href="../../static/css/profile.css">
<link rel="stylesheet" type="text/css" href="../../static/css/styles.css">
<script src="/static/js/imageValidation.js"></script>
{% load staticfiles %}
{% endblock %}

{% block content %}
<div id= "name">
{{ name }}'s Sanctuary
</div>


<div class = "container"> 
    <div class="row">




    </div>
</div>

<div id = "stats" class=>
    <h1>{{ name }}'s Stats</h1>
    <ul>
        <li>Games Played: {{ games }}</li>
        <li>Most Kills: {{ kills }}</li>
    </ul>
    <ul>
        <li>Longest Survived: {{ days }}</li>
        <li>Most Experience: {{ exp }}</li>
    </ul>
</div>

<div id="profilePic">
    <p>{{ name }}'s Profile Picture:</p>
    <div id = "image">
        {% if picture %}
        <img src="{{ picture.url }}" alt="{{ name }}'s profile picture" onerror="this.style.display='none'"/>
        {% else %}
        <img src="{% static "images/ImageNotFound.png" %}" alt="No Picture Uploaded" onerror="this.style.display='none'"/>
        {% endif %}
    </div>


    {% if user.username == name %}
    <div id="Buttons">
        <div id="display-upload">
            <button id="displayB">Upload New Image</button>
        </div>

        {% if picture %}
        <div id="image-delete">
            <form method="post" action="profile" enctype="multipart/form-data">
                {% csrf_token %}
                <input type="submit" value="Remove Your Profile Picture" onclick="return confirm('Are you sure?');"/>
            </form>
        </div>
        {% endif %}

        <div id="image-upload">
            <form id="imageupload" method="post" action="profile" enctype="multipart/form-data">
                {% csrf_token %}
                <p>
                    <input id="file-input" type="file" name="file-input">
                    <label for="file-input">Select File</label> 
                </p>
                <input type="submit" value="Upload New Profile Picture" onclick="return NoImageSelect() "/>
            </form>
            <button id="cancelB">Cancel</button>
        </div>
    </div>
    {% endif %}
</div>

<div id="achievements-table">
    <table>
        <tr>
            <th>Badge Name</th>
            <th>Date Awarded</th>
            <th>Description</th>
            <th>Icon</th>
        </tr>
        {% if achievements %}
            {% for achievement in achievements %}
            <tr>
                <td>{{ achievement.badge.name }}</td>
                <td>{{ achievement.date_awarded }}</td>
                <td>{{ achievement.badge.description }}</td>
                {% if achievement.badge.icon %}
                    <td><img src="{{ achievement.badge.icon.url }}"/></td>
                {% else %}
                    <td>Img_Error</td>
                {% endif %}
            </tr>
            {% endfor %}
        {% else %}
            <tr>
                <td>No</td>
                <td>Achievements</td>
                <td>Git</td>
                <td>Gud</td>
            </tr>
        {% endif %}
    </table>
</div>


{% endblock %}